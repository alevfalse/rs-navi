<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/all.min.css" integrity="sha256-7rF6RaSKyh16288E3hVdzQtHyzatA2MQRGu0cf6pqqM="
        crossorigin="anonymous" />

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="/css/error.css">

    <link href='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

    <style>
        body {
            font-family: 'Roboto Condensed', sans-serif;
            background:
                    linear-gradient(rgba(0, 0, 0, 0.7),
                    rgba(0, 0, 0, 0.7)),
                    url("images/background.jpg");
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
                background-attachment: fixed;
            }
    
            img.resize {
                max-width: 10%;
                max-height: 10%;
            }
    
            #slideshow {
                overflow: hidden;
                height: 180px;
                width: 286px;
                margin: 0 auto;
            }
    
            div.scroll {
                width: 700px;
                height: 500px;
                overflow-y: auto;
                overflow-x: auto;

            }
    
            .checked {
                color: orange;
            }
    
            .slidecontainer {
                width: 100%;
            }
    
            .slider {
                -webkit-appearance: none;
                width: 100%;
                height: 10px;
                border-radius: 5px;
                background: #d3d3d3;
                outline: none;
                opacity: 0.7;
                -webkit-transition: .2s;
                transition: opacity .2s;
            }
    
            .slider:hover {
                opacity: 1;
            }
    
            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 25px;
                height: 25px;
                border-radius: 50%;
                background: #1e90ff;
                cursor: pointer;
            }
    
    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #1e90ff;
      cursor: pointer;
    }
    </style>

    <title>Place Listing</title>
</head>

<body>
    <!-- Search -->
    <div class="container">
        <form method="GET" action="/search">
            <div class="row justify-content-center mt-5">
                <div class="col-10 col-md-8 col-lg-6">
                    <div class="input-group mb-5">
                        <input type="text" class="form-control" placeholder="Enter school name..." name="schoolName" id="searchField"
                            required>
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit"> <i class="fas fa-search"></i> </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <table class="row justify-content-center mt-5">
        <tbody>
            <tr>
                <!--Map-->
                <td class="align-top">
                    <div class="img-thumbnail float-left">
                        <div id='map' style='width: 300px; height: 200px;'></div>
                    </div>
                </td>

                <!--Places-->
                <td class="align-top">
                    <div class="border scroll">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="card mx-auto text-white bg-primary mb-3" style="width: 18rem;">
                                    <div id="slideshow" class="carousel slide" data-ride="carousel" data-interval="3000">
                                        <div class="carousel-inner">
                                            <div class="carousel-item active">
                                                <img class="card-img-top slide-number" src="images/room.jpg" alt="Place Image">
                                            </div>
                                            <div class="carousel-item">
                                                <img class="card-img-top slide-number" src="images/room2.jpg" alt="Place Image">
                                            </div>
                                            <div class="carousel-item">
                                                <img class="card-img-top slide-number" src="images/room3.jpg" alt="Place Image">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-body">
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star"></span>
                                        <p class="card-text">Some quick example text to build on the card title and
                                            make up the
                                            bulk of
                                            the card's content.</p>
                                        <a href="#" class="btn btn-light">View Place</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>

                <!--Filters-->
                <td class="align-top">
                    <form method="POST" action="" id="updateList">
                        <div class="border justify-content-center">
                            <div class="slidecontainer">
                                <p class="font-weight-bold text-center text-white">Price Range: </p>
                                <p class="text-center text-white">Php <span id="price"></span></p>
                                <input type="range" min="300" max="50000" value="1000" class="slider" id="filter1">
                            </div>
                            <br />

                            <div class="slidecontainer">
                                <p class="font-weight-bold text-center text-white">Distance from School: </p>
                                <p class="text-center text-white">Meters <span id="distance"></span></p>
                                <input type="range" min="100" max="50000" value="10000" class="slider" id="filter2">
                            </div>
                            <br />

                            <div class="slidecontainer">
                                <p class="font-weight-bold text-center text-white">Star Rating: </p>
                                <p class="text-center text-white"><span id="stars"></span></p>
                                <input type="range" min="1" max="5" value="5" class="slider" id="filter3">
                            </div>
                            <br />

                            <div class="col text-center">
                                <p class="font-weight-bold text-center text-white">Place Type: </p>
                                <select class="text-center " id="exampleFormControlSelect1" name="type">
                                    <option value="0">All</option>
                                    <option value="1">Dormitory</option>
                                    <option value="2">Apartment</option>
                                    <option value="3">Condominium</option>
                                    <option value="4">Boarding House</option>
                                    <option value="5">Hotel</option>
                                </select>
                                <br />
                                <br />
                                <button type="submit" class="btn btn-primary mb-2">Update</button>
                            </div>
                        </div>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <!-- Bootstrap JS + Popper.js Bundle -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiamFzc2VyZWRnZSIsImEiOiJjanR5MXQwbTIxZ3g3NGRxeWY2cGwwZ2FmIn0.GCg26EvH4f4HfbtBphWTyg';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11'
        });

        var filter1 = document.getElementById("filter1");
        var filter2 = document.getElementById("filter2");
        var filter3 = document.getElementById("filter3");

        var price = document.getElementById("price");
        var distance = document.getElementById("distance");
        var stars = document.getElementById("stars");

        price.innerHTML = filter1.value;
        distance.innerHTML = filter2.value;
        stars.innerHTML = filter3.value;

        filter1.oninput = function () {
            price.innerHTML = this.value;
        }
        filter2.oninput = function () {
            distance.innerHTML = this.value;
        }
        filter3.oninput = function () {
            stars.innerHTML = this.value;
        }

    </script>

</body>

</html>